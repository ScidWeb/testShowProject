function startModal(){let e=[];localCacheNews=sessionStorage.getItem("cacheNews"),localCacheNews?e=JSON.parse(localCacheNews):sessionStorage.setItem("cacheNews",JSON.stringify(e));const t=document.querySelector(".js-modal-overlay"),o=document.querySelector(".js-modal-overlay-background"),r=document.querySelector(".js-modal-number"),n=document.querySelector(".js-modal-title"),a=document.querySelector(".js-modal-text"),c=document.querySelectorAll(".js-modal-overlay-close"),s=document.querySelectorAll(".js-modal-parent-open");function l(){compensationScrollWrapper(),compensationScrollHeader(),toggleScrollBody(),t.classList.remove("active")}!async function(){let d;c.forEach(e=>{e.addEventListener("click",()=>{l()})}),s.forEach(c=>{c.addEventListener("click",(async function(s){s.preventDefault();const l=c.getAttribute("data-modal-id"),i=document.querySelector('[data-modal-id="'+l),u=window.getComputedStyle(c).backgroundColor;o.style.backgroundColor=u,t.classList.add("active"),compensationScrollWrapper(),compensationScrollHeader(),toggleScrollBody();const m=await async function(t){const o={id:Number(t),text:"No data"};let r=e.find(e=>e.id.toString()===t);if(r)return r;let n=await fetch("https://my-json-server.typicode.com/typicode/demo/posts/"+t);if(n.ok){let t=await n.json();return e.push(t),sessionStorage.setItem("cacheNews",JSON.stringify(e)),t}{e.push(o),sessionStorage.setItem("cacheNews",JSON.stringify(e));const t=new Error("HTTP error: "+n.status);return console.error(t),o}}(l);r.textContent=i.querySelector(".js-modal-parent-number").textContent,n.textContent=i.querySelector(".js-modal-parent-title").textContent,a.textContent=""+m.text,d&&d.unMount(),d=new SimpleBar(o,{autoHide:!1})}))})}(),addEventOnKeydown("Escape",l)}startModal();